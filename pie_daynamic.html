<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.3/FileSaver.min.js"></script>

<script src="https://rawgit.com/beaver71/Chart.PieceLabel.js/master/build/Chart.PieceLabel.min.js"></script>

<button id="save">Save</button>
<button onclick="Done();">done</button>
<button onclick="unDone();">unDone</button>


<div class="container">
 <canvas id="myChart" width="800" height="200"></canvas>

</div>
<script type="text/javascript">
			// draw background
var backgroundColor = 'white';
Chart.plugins.register({
    beforeDraw: function(c) {
        var ctx = c.chart.ctx;
        ctx.fillStyle = backgroundColor;
        ctx.fillRect(0, 0, c.chart.width, c.chart.height);
    }
});
	var canvas = document.getElementById('myChart');
	var option={
      pieceLabel: {
        render: function (args) {
        return args.label + ':\n' + args.value;
    },
        fontColor: '#000',
        position: 'outside',
        segment: true
    	},
         legend: {
                display: true,
                position: 'right',
               
            }
      }
      var undone=22;
      var done = 10;
      function Done() {
        done++;
        //document.getElementById('inc').value = done;
        var myChart = new Chart(canvas, {
  type: 'pie',
  options :option,
  data: {
    labels: ["done", "undone"],
    datasets: [{
      backgroundColor: [
        "#2ecc71",
        "#3498db"],
      data: [done, undone]
    }]
  }
});
      }
        function unDone() {
        undone--;
        //document.getElementById('inc').value = done;
        var myChart = new Chart(canvas, {
  type: 'pie',
  options :option,
  data: {
    labels: ["done", "undone"],
    datasets: [{
      backgroundColor: [
        "#2ecc71",
        "#3498db"],
      data: [done, undone]
    }]
  }
});
      }




var myChart = new Chart(canvas, {
  type: 'pie',
  options :option,
  data: {
    labels: ["done", "undone"],
    datasets: [{
      backgroundColor: [
        "#2ecc71",
        "#3498db"],
      data: [done, undone]
    }]
  }
});
// save as image
$('#save').click(function() {
    canvas.toBlob(function(blob) {
        saveAs(blob, "pretty image.png");
    });
});
</script>